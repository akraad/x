<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>پیش‌بینی تقریبی تاریخ مرگ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            line-height: 1.6;
        }
        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 700px;
        }
        h1, h2 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: bold;
        }
        input[type="text"],
        input[type="number"],
        select {
            width: calc(100% - 22px);
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            box-sizing: border-box;
        }
        .radio-group label, .checkbox-group label {
            display: inline-block;
            margin-left: 15px;
            font-weight: normal;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 14px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1rem;
            width: 100%;
            transition: background-color 0.3s ease;
            margin-top: 20px;
        }
        button:hover {
            background-color: #0056b3;
        }
        #result {
            margin-top: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: #f9f9f9;
            text-align: center;
            font-size: 1.2rem;
            color: #333;
            animation: fadeIn 1s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .result-date {
            font-size: 1.8em;
            color: #dc3545;
            font-weight: bold;
            margin: 15px 0;
            display: block;
        }
        .disclaimer {
            margin-top: 20px;
            font-size: 0.9em;
            color: #777;
            text-align: center;
        }
        .suggestions-list {
            text-align: right;
            margin-top: 25px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        .suggestions-list ul {
            list-style-type: disc;
            padding-right: 25px;
            margin-top: 10px;
        }
        .suggestions-list li {
            margin-bottom: 8px;
        }
        .score-change {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>برنامه پیش‌بینی تقریبی تاریخ مرگ</h1>
        <div class="disclaimer">
            <p><strong>توجه:</strong> این برنامه فقط برای سرگرمی است و پیش‌بینی‌های آن پایه علمی قوی ندارند. تاریخ مرگ قابل پیش‌بینی نیست و عوامل بسیار زیادی در آن دخیل هستند. این برنامه صرفاً بر اساس فرضیات و امتیازدهی‌های فرضی کار می‌کند.</p>
        </div>
        <form id="deathPredictorForm">
            <h2>مشخصات فردی</h2>
            <div class="form-group">
                <label for="name">نام کامل:</label>
                <input type="text" id="name" required placeholder="نام خود را وارد کنید">
            </div>
            <div class="form-group">
                <label for="age">سن فعلی:</label>
                <input type="number" id="age" min="1" max="120" required placeholder="سن خود را وارد کنید">
            </div>
            <div class="form-group">
                <label>جنسیت:</label>
                <div class="radio-group">
                    <input type="radio" id="male" name="gender" value="male" required>
                    <label for="male">مرد</label>
                    <input type="radio" id="female" name="gender" value="female">
                    <label for="female">زن</label>
                </div>
            </div>
            <div class="form-group">
                <label for="residence">محل زندگی اصلی شما:</label>
                <select id="residence" required>
                    <option value="">انتخاب کنید</option>
                    <option value="urban_large">کلان‌شهر (تهران، مشهد، اصفهان و...)</option>
                    <option value="urban_small">شهر کوچک یا متوسط</option>
                    <option value="rural">روستا یا منطقه ییلاقی</option>
                </select>
            </div>

            <h2>سوالات سبک زندگی</h2>
            
            <div class="form-group">
                <label for="smoking">۱. وضعیت استعمال دخانیات (سیگار، قلیان، ویپ و...):</label>
                <select id="smoking" required>
                    <option value="">انتخاب کنید</option>
                    <option value="never">هرگز مصرف نکرده‌ام</option>
                    <option value="ex_occasional">قبلاً گاه‌گاهی مصرف می‌کردم، الان ترک کرده‌ام</option>
                    <option value="ex_daily">قبلاً روزانه مصرف می‌کردم، الان ترک کرده‌ام</option>
                    <option value="occasional">گاهی (مثلاً در مهمانی‌ها) مصرف می‌کنم</option>
                    <option value="light_daily">روزانه به مقدار کم (مثلاً ۱-۵ نخ سیگار)</option>
                    <option value="heavy_daily">روزانه به مقدار زیاد (بیش از ۵ نخ سیگار یا هر روز قلیان)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="alcohol">۲. وضعیت مصرف الکل:</label>
                <select id="alcohol" required>
                    <option value="">انتخاب کنید</option>
                    <option value="never">هرگز مصرف نکرده‌ام</option>
                    <option value="rarely">به ندرت (سالانه کمتر از ۵ بار)</option>
                    <option value="socially">گاهی در موقعیت‌های اجتماعی (ماهیانه ۱-۳ بار)</option>
                    <option value="regular">به صورت منظم (هفتگی یا چند بار در هفته)</option>
                    <option value="heavy">مصرف سنگین و مکرر (تقریباً روزانه یا مقادیر زیاد)</option>
                    <option value="dependent">وابستگی شدید به الکل</option>
                </select>
            </div>

            <div class="form-group">
                <label for="diet">۳. رژیم غذایی معمول شما بیشتر شامل چه مواردی است؟</label>
                <select id="diet" required>
                    <option value="">انتخاب کنید</option>
                    <option value="healthy_plant">عمدتاً گیاهی (میوه، سبزیجات، غلات کامل) و سالم</option>
                    <option value="balanced_home">متعادل، بیشتر غذاهای خانگی و تازه</option>
                    <option value="balanced_mixed">متعادل، ترکیبی از خانگی و رستورانی/آماده</option>
                    <option value="fast_food_moderate">متوسط فست فود و غذاهای فرآوری‌شده (چند بار در ماه)</option>
                    <option value="fast_food_often">اغلب فست فود و غذاهای فرآوری‌شده (هفتگی)</option>
                    <option value="unhealthy_processed">عمدتاً غذاهای آماده، شیرین و پرچرب</option>
                </select>
            </div>

            <div class="form-group">
                <label for="activity">۴. سطح فعالیت بدنی منظم شما در هفته چقدر است؟</label>
                <select id="activity" required>
                    <option value="">انتخاب کنید</option>
                    <option value="very_active">بیش از ۵ ساعت ورزش شدید یا فعالیت فیزیکی سنگین</option>
                    <option value="active">۳-۵ ساعت ورزش متوسط تا شدید</option>
                    <option value="moderate">۱-۳ ساعت فعالیت سبک تا متوسط</option>
                    <option value="light">کمتر از ۱ ساعت فعالیت سبک</option>
                    <option value="sedentary_light">عمدتاً کم‌تحرک، گاهی فعالیت بسیار سبک</option>
                    <option value="sedentary_none">بیشتر زمان بیداری را نشسته‌ام و فعالیت فیزیکی ندارم</option>
                </select>
            </div>

            <div class="form-group">
                <label for="sleep">۵. کیفیت و مدت زمان خواب شما در شبانه‌روز چگونه است؟</label>
                <select id="sleep" required>
                    <option value="">انتخاب کنید</option>
                    <option value="optimal">۷-۹ ساعت خواب با کیفیت و منظم</option>
                    <option value="good">۶-۹ ساعت خواب، گاهی با تغییرات جزئی</option>
                    <option value="some_disruption">گاهی مشکلات خواب (بی‌خوابی، بیدار شدن مکرر)</option>
                    <option value="less_than_6">معمولاً کمتر از ۶ ساعت خواب</option>
                    <option value="more_than_9">معمولاً بیشتر از ۹ ساعت خواب</option>
                    <option value="poor_irregular">خواب نامنظم، کمیت و کیفیت پایین</option>
                </select>
            </div>

            <div class="form-group">
                <label for="stress">۶. سطح استرس و اضطراب شما در زندگی روزمره چقدر است؟</label>
                <select id="stress" required>
                    <option value="">انتخاب کنید</option>
                    <option value="very_low">بسیار کم، تقریباً بدون استرس</option>
                    <option value="low">کم، توانایی خوب در مدیریت استرس</option>
                    <option value="moderate">متوسط، گاهی احساس استرس می‌کنم</option>
                    <option value="high">زیاد، اغلب احساس استرس و اضطراب</option>
                    <option value="very_high">بسیار زیاد، استرس مداوم و تاثیرگذار بر زندگی</option>
                    <option value="chronic_stress">استرس مزمن و شدید به همراه مشکلات روانی</option>
                </select>
            </div>

            <div class="form-group">
                <label for="heredity">۷. سابقه بیماری‌های مزمن (مانند قلبی، سرطان، دیابت) در خانواده نزدیک شما:</label>
                <select id="heredity" required>
                    <option value="">انتخاب کنید</option>
                    <option value="none">هیچ مورد شناخته‌شده‌ای نداریم</option>
                    <option value="minor_distant">یک یا دو مورد خفیف یا در بستگان دورتر</option>
                    <option value="some_close">چند مورد در بستگان نزدیک (والدین، خواهر/برادر)</option>
                    <option value="significant_close">موارد شایع و جدی در بستگان نزدیک</option>
                    <option value="widespread_severe">تعداد زیادی از موارد شایع و شدید در خانواده</option>
                    <option value="early_onset">بیماری‌های جدی با شروع زودرس در بستگان نزدیک</option>
                </select>
            </div>

            <div class="form-group">
                <label for="job">۸. نوع شغل اصلی شما و میزان خطر مرتبط با آن:</label>
                <select id="job" required>
                    <option value="">انتخاب کنید</option>
                    <option value="very_low_risk">بسیار کم‌خطر (کارمند اداری، برنامه‌نویس، محقق)</option>
                    <option value="low_risk">کم‌خطر (معلم، فروشنده در مغازه، طراح)</option>
                    <option value="medium_risk">متوسط خطر (راننده تاکسی، پرستار، کارمند بانک)</option>
                    <option value="high_risk">پرخطر (کارگر ساختمانی، مکانیک، نیروی انتظامی، خلبان)</option>
                    <option value="very_high_risk">بسیار پرخطر (معدن‌کار، آتش‌نشان، کار با مواد شیمیایی خطرناک)</option>
                    <option value="extreme_risk">خطر جانی بسیار بالا (نیروی نظامی در منطقه جنگی، برخی مشاغل صنعتی)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="bmi">۹. وضعیت وزن و شاخص توده بدنی (BMI) شما:</label>
                <select id="bmi" required>
                    <option value="">انتخاب کنید</option>
                    <option value="underweight">کمبود وزن (BMI زیر ۱۸.۵)</option>
                    <option value="healthy">محدوده سالم (BMI ۱۸.۵-۲۴.۹)</option>
                    <option value="overweight">اضافه‌وزن (BMI ۲۵-۲۹.۹)</option>
                    <option value="obese_class1">چاقی درجه ۱ (BMI ۳۰-۳۴.۹)</option>
                    <option value="obese_class2">چاقی درجه ۲ (BMI ۳۵-۳۹.۹)</option>
                    <option value="morbidly_obese">چاقی مفرط (BMI ۴۰ به بالا)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="checkup">۱۰. میزان مراجعه شما به پزشک برای چکاپ‌های منظم و پیشگیرانه:</label>
                <select id="checkup" required>
                    <option value="">انتخاب کنید</option>
                    <option value="annual_full">سالانه چکاپ کامل پزشکی</option>
                    <option value="regular_partial">مراجعه منظم برای برخی چکاپ‌ها (مثلاً دندانپزشکی)</option>
                    <option value="occasional">گاهی اوقات (مثلاً هر ۲-۳ سال یکبار)</option>
                    <option value="rarely">به ندرت، فقط در صورت بیماری شدید</option>
                    <option value="never">هرگز، به پزشک مراجعه نمی‌کنم</option>
                    <option value="avoid_doctors">از مراجعه به پزشک به شدت اجتناب می‌کنم</option>
                </select>
            </div>

            <div class="form-group">
                <label for="pollution">۱۱. میزان قرار گرفتن شما در معرض آلودگی هوا (محل زندگی یا کار):</label>
                <select id="pollution" required>
                    <option value="">انتخاب کنید</option>
                    <option value="very_low">بسیار کم (مناطق روستایی پاک، کوهستانی)</option>
                    <option value="low">کم (شهرهای کوچک با هوای نسبتاً خوب)</option>
                    <option value="medium">متوسط (کلان‌شهرها با آلودگی فصلی)</option>
                    <option value="high">زیاد (کلان‌شهرها با آلودگی مداوم و شدید)</option>
                    <option value="very_high">بسیار زیاد (نزدیک به صنایع آلاینده، ترافیک سنگین)</option>
                    <option value="extreme">کار یا زندگی در محیط‌های صنعتی با آلودگی بسیار بالا</option>
                </select>
            </div>

            <div class="form-group">
                <label for="social">۱۲. کیفیت و کمیت روابط اجتماعی و حمایت‌های اطرافیان شما:</label>
                <select id="social" required>
                    <option value="">انتخاب کنید</option>
                    <option value="strong_extensive">شبکه بسیار قوی و گسترده از دوستان و خانواده</option>
                    <option value="strong_close">شبکه قوی از دوستان و خانواده نزدیک</option>
                    <option value="moderate">چند دوست نزدیک و روابط خانوادگی متوسط</option>
                    <option value="limited">روابط اجتماعی محدود، تعداد کمی دوست</option>
                    <option value="mostly_alone">بیشتر اوقات تنها هستم و روابط حمایتی کمی دارم</option>
                    <option value="isolated">احساس انزوا و تنهایی شدید</option>
                </select>
            </div>

            <div class="form-group">
                <label for="outlook">۱۳. نگرش کلی شما به زندگی و میزان خوش‌بینی‌تان:</label>
                <select id="outlook" required>
                    <option value="">انتخاب کنید</option>
                    <option value="very_positive">بسیار مثبت و خوش‌بین</option>
                    <option value="positive">مثبت و امیدوار</option>
                    <option value="realistic">واقع‌بینانه، نه خیلی خوش‌بین نه خیلی بدبین</option>
                    <option value="sometimes_negative">گاهی اوقات منفی‌نگر و ناامید</option>
                    <option value="often_negative">اغلب منفی‌نگر و بدبین</option>
                    <option value="pessimistic_depressed">بسیار بدبین، احساس افسردگی مداوم</option>
                </select>
            </div>

            <div class="form-group">
                <label for="education">۱۴. بالاترین مدرک تحصیلی شما:</label>
                <select id="education" required>
                    <option value="">انتخاب کنید</option>
                    <option value="illiterate">بی‌سواد یا سواد خواندن و نوشتن</option>
                    <option value="elementary">ابتدایی</option>
                    <option value="diploma">دیپلم</option>
                    <option value="bachelor">کارشناسی (لیسانس)</option>
                    <option value="master">کارشناسی ارشد (فوق لیسانس)</option>
                    <option value="phd_higher">دکترا و بالاتر</option>
                </select>
            </div>

            <div class="form-group">
                <label for="medication">۱۵. آیا به طور منظم از داروهای خاصی (غیر از ویتامین) استفاده می‌کنید؟</label>
                <select id="medication" required>
                    <option value="">انتخاب کنید</option>
                    <option value="no">خیر</option>
                    <option value="minor_condition">بله، برای یک بیماری خفیف یا کنترل شده (مثلاً آلرژی فصلی)</option>
                    <option value="moderate_condition">بله، برای یک بیماری مزمن متوسط (مثلاً فشار خون کنترل شده)</option>
                    <option value="serious_condition">بله، برای یک بیماری مزمن جدی (مثلاً دیابت نوع ۲، بیماری قلبی)</option>
                    <option value="multiple_serious">بله، برای چندین بیماری مزمن جدی</option>
                    <option value="lifelong_critical">بله، برای بیماری‌های بحرانی و مادام‌العمر (مثلاً نارسایی کلیه)</option>
                </select>
            </div>
            
            <button type="submit">پیش‌بینی کن!</button>
        </form>

        <div id="result">
            </div>
    </div>

    <script>
        document.getElementById('deathPredictorForm').addEventListener('submit', function(event) {
            event.preventDefault(); // جلوگیری از ارسال فرم و رفرش صفحه

            const name = document.getElementById('name').value;
            const age = parseInt(document.getElementById('age').value);
            const gender = document.querySelector('input[name="gender"]:checked').value;
            const residence = document.getElementById('residence').value;

            // امتیازدهی اولیه (امید به زندگی پایه)
            let baseLifeExpectancy = 75; // سال پایه امید به زندگی

            // تنظیم امید به زندگی پایه بر اساس جنسیت
            if (gender === 'female') {
                baseLifeExpectancy += 4; 
            } else { // male
                baseLifeExpectancy -= 1; 
            }

            // تنظیم امید به زندگی پایه بر اساس محل زندگی
            if (residence === 'urban_large') {
                baseLifeExpectancy -= 2; 
            } else if (residence === 'urban_small') {
                baseLifeExpectancy += 0; 
            } else if (residence === 'rural') {
                baseLifeExpectancy += 2; 
            }

            let score = 0; // امتیازات جمع‌آوری شده از سوالات سبک زندگی

            function getSelectValue(id) {
                return document.getElementById(id).value;
            }

            // امتیازدهی سوالات با 6 گزینه
            const smoking = getSelectValue('smoking');
            if (smoking === 'never') score += 6;
            else if (smoking === 'ex_occasional') score += 3;
            else if (smoking === 'ex_daily') score += 1;
            else if (smoking === 'occasional') score -= 3;
            else if (smoking === 'light_daily') score -= 7;
            else if (smoking === 'heavy_daily') score -= 12;

            const alcohol = getSelectValue('alcohol');
            if (alcohol === 'never') score += 4;
            else if (alcohol === 'rarely') score += 2;
            else if (alcohol === 'socially') score += 0;
            else if (alcohol === 'regular') score -= 4;
            else if (alcohol === 'heavy') score -= 8;
            else if (alcohol === 'dependent') score -= 15;

            const diet = getSelectValue('diet');
            if (diet === 'healthy_plant') score += 5;
            else if (diet === 'balanced_home') score += 3;
            else if (diet === 'balanced_mixed') score += 1;
            else if (diet === 'fast_food_moderate') score -= 2;
            else if (diet === 'fast_food_often') score -= 6;
            else if (diet === 'unhealthy_processed') score -= 10;

            const activity = getSelectValue('activity');
            if (activity === 'very_active') score += 6;
            else if (activity === 'active') score += 4;
            else if (activity === 'moderate') score += 2;
            else if (activity === 'light') score -= 1;
            else if (activity === 'sedentary_light') score -= 4;
            else if (activity === 'sedentary_none') score -= 8;

            const sleep = getSelectValue('sleep');
            if (sleep === 'optimal') score += 4;
            else if (sleep === 'good') score += 2;
            else if (sleep === 'some_disruption') score -= 1;
            else if (sleep === 'less_than_6') score -= 4;
            else if (sleep === 'more_than_9') score -= 3; // خواب زیاد هم همیشه خوب نیست
            else if (sleep === 'poor_irregular') score -= 7;

            const stress = getSelectValue('stress');
            if (stress === 'very_low') score += 5;
            else if (stress === 'low') score += 3;
            else if (stress === 'moderate') score += 0;
            else if (stress === 'high') score -= 4;
            else if (stress === 'very_high') score -= 8;
            else if (stress === 'chronic_stress') score -= 12;

            const heredity = getSelectValue('heredity');
            if (heredity === 'none') score += 4;
            else if (heredity === 'minor_distant') score += 1;
            else if (heredity === 'some_close') score -= 3;
            else if (heredity === 'significant_close') score -= 7;
            else if (heredity === 'widespread_severe') score -= 10;
            else if (heredity === 'early_onset') score -= 15;

            const job = getSelectValue('job');
            if (job === 'very_low_risk') score += 4;
            else if (job === 'low_risk') score += 2;
            else if (job === 'medium_risk') score += 0;
            else if (job === 'high_risk') score -= 4;
            else if (job === 'very_high_risk') score -= 8;
            else if (job === 'extreme_risk') score -= 15;

            const bmi = getSelectValue('bmi');
            if (bmi === 'healthy') score += 4;
            else if (bmi === 'underweight') score -= 2; // کمبود وزن شدید هم خطرناک است
            else if (bmi === 'overweight') score -= 1;
            else if (bmi === 'obese_class1') score -= 5;
            else if (bmi === 'obese_class2') score -= 9;
            else if (bmi === 'morbidly_obese') score -= 15;

            const checkup = getSelectValue('checkup');
            if (checkup === 'annual_full') score += 4;
            else if (checkup === 'regular_partial') score += 2;
            else if (checkup === 'occasional') score += 0;
            else if (checkup === 'rarely') score -= 3;
            else if (checkup === 'never') score -= 7;
            else if (checkup === 'avoid_doctors') score -= 10;

            const pollution = getSelectValue('pollution');
            if (pollution === 'very_low') score += 3;
            else if (pollution === 'low') score += 1;
            else if (pollution === 'medium') score -= 1;
            else if (pollution === 'high') score -= 4;
            else if (pollution === 'very_high') score -= 8;
            else if (pollution === 'extreme') score -= 12;

            const social = getSelectValue('social');
            if (social === 'strong_extensive') score += 4;
            else if (social === 'strong_close') score += 2;
            else if (social === 'moderate') score += 0;
            else if (social === 'limited') score -= 2;
            else if (social === 'mostly_alone') score -= 5;
            else if (social === 'isolated') score -= 8;

            const outlook = getSelectValue('outlook');
            if (outlook === 'very_positive') score += 3;
            else if (outlook === 'positive') score += 2;
            else if (outlook === 'realistic') score += 0;
            else if (outlook === 'sometimes_negative') score -= 1;
            else if (outlook === 'often_negative') score -= 4;
            else if (outlook === 'pessimistic_depressed') score -= 7;

            const education = getSelectValue('education');
            if (education === 'phd_higher') score += 3;
            else if (education === 'master') score += 2;
            else if (education === 'bachelor') score += 1;
            else if (education === 'diploma') score += 0;
            else if (education === 'elementary') score -= 1;
            else if (education === 'illiterate') score -= 3;

            const medication = getSelectValue('medication');
            if (medication === 'no') score += 3;
            else if (medication === 'minor_condition') score += 1;
            else if (medication === 'moderate_condition') score -= 2;
            else if (medication === 'serious_condition') score -= 6;
            else if (medication === 'multiple_serious') score -= 10;
            else if (medication === 'lifelong_critical') score -= 15;
            
            // محاسبه امید به زندگی نهایی
            let finalLifeExpectancy = baseLifeExpectancy + score;

            // جلوگیری از نتایج غیرمنطقی
            if (finalLifeExpectancy < age + 1) { 
                finalLifeExpectancy = age + 1; // حداقل یک سال دیگر
            }
            if (finalLifeExpectancy > 105) { // حداکثر 105 سال (فرضی)
                finalLifeExpectancy = 105;
            }

            const yearsToLive = finalLifeExpectancy - age;
            
            // محاسبه تاریخ مرگ
            const currentDate = new Date();
            const predictedDeathDate = new Date(currentDate.getFullYear() + yearsToLive, currentDate.getMonth(), currentDate.getDate());

            const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            const formattedDate = predictedDeathDate.toLocaleDateString('fa-IR', options);
            const formattedDayOfWeek = predictedDeathDate.toLocaleDateString('fa-IR', { weekday: 'long' });

            let resultHtml = `
                <p><strong>${name}</strong> عزیز،</p>
                <p>با توجه به اطلاعاتی که ارائه دادید، پیش‌بینی تقریبی ما برای تاریخ درگذشت شما حدوداً:</p>
                <span class="result-date">${formattedDate}</span>
                <p>که معادل با <strong>${formattedDayOfWeek}</strong> خواهد بود.</p>
                <p>این به این معنی است که شما احتمالاً تا حدود <strong>${finalLifeExpectancy.toFixed(0)}</strong> سالگی عمر خواهید کرد.</p>
            `;

            // پیشنهادات افزایش طول عمر
            let suggestions = "<div class='suggestions-list'><h3>پیشنهاداتی برای افزایش طول عمر:</h3><ul>";
            let hasSuggestions = false;

            if (smoking === 'occasional' || smoking === 'light_daily' || smoking === 'heavy_daily') {
                suggestions += `<li><strong>ترک کامل دخانیات:</strong> این مهم‌ترین قدم است! با ترک کامل سیگار/قلیان/ویپ می‌توانید به طور قابل توجهی (<strong>افزایش +۷ تا +۱۲ سال</strong>) خطر بیماری‌های مزمن را کاهش دهید.</li>`;
                hasSuggestions = true;
            }

            if (alcohol === 'regular' || alcohol === 'heavy' || alcohol === 'dependent') {
                suggestions += `<li><strong>کاهش یا قطع مصرف الکل:</strong> مصرف بیش از حد الکل به کبد، قلب و مغز آسیب می‌رساند. با کاهش آن، می‌توانید به سلامت خود کمک کنید (<strong>افزایش +۴ تا +۱۰ سال</strong>).</li>`;
                hasSuggestions = true;
            }

            if (diet === 'fast_food_moderate' || diet === 'fast_food_often' || diet === 'unhealthy_processed') {
                suggestions += `<li><strong>تغذیه سالم‌تر:</strong> مصرف میوه‌ها، سبزیجات، غلات کامل و پروتئین‌های سالم را افزایش دهید و فست‌فود و غذاهای فرآوری‌شده را کم کنید (<strong>افزایش +۵ تا +۱۰ سال</strong>).</li>`;
                hasSuggestions = true;
            }

            if (activity === 'light' || activity === 'sedentary_light' || activity === 'sedentary_none') {
                suggestions += `<li><strong>افزایش فعالیت بدنی:</strong> سعی کنید روزانه حداقل ۳۰ دقیقه فعالیت بدنی متوسط داشته باشید. ورزش منظم تاثیر بسزایی بر سلامت دارد (<strong>افزایش +۳ تا +۸ سال</strong>).</li>`;
                hasSuggestions = true;
            }

            if (stress === 'high' || stress === 'very_high' || stress === 'chronic_stress') {
                suggestions += `<li><strong>مدیریت استرس:</strong> تکنیک‌های مدیریت استرس مانند مدیتیشن، یوگا، تنفس عمیق را یاد بگیرید. کاهش استرس سلامت روانی و جسمی شما را بهبود می‌بخشد (<strong>افزایش +۴ تا +۷ سال</strong>).</li>`;
                hasSuggestions = true;
            }

            if (bmi === 'overweight' || bmi === 'obese_class1' || bmi === 'obese_class2' || bmi === 'morbidly_obese') {
                suggestions += `<li><strong>رسیدن به وزن ایده‌آل:</strong> کاهش وزن اضافی و رسیدن به BMI سالم، فشار بر قلب و سیستم متابولیسم را کم می‌کند (<strong>افزایش +۳ تا +۱۰ سال</strong>).</li>`;
                hasSuggestions = true;
            }

            if (checkup === 'rarely' || checkup === 'never' || checkup === 'avoid_doctors') {
                suggestions += `<li><strong>چکاپ‌های منظم پزشکی:</strong> تشخیص زودهنگام بیماری‌ها و پیگیری درمان، می‌تواند به حفظ سلامتی شما کمک کند (<strong>افزایش +۳ تا +۷ سال</strong>).</li>`;
                hasSuggestions = true;
            }
            
            if (pollution === 'high' || pollution === 'very_high' || pollution === 'extreme') {
                suggestions += `<li><strong>کاهش مواجهه با آلودگی هوا:</strong> در صورت امکان، زمان کمتری را در مناطق با آلودگی شدید بگذرانید یا از ماسک‌های مناسب استفاده کنید (<strong>افزایش +۲ تا +۵ سال</strong>).</li>`;
                hasSuggestions = true;
            }

            if (social === 'limited' || social === 'mostly_alone' || social === 'isolated') {
                suggestions += `<li><strong>تقویت روابط اجتماعی:</strong> ارتباط با دوستان و خانواده و مشارکت در فعالیت‌های گروهی می‌تواند سلامت روان و جسم شما را بهبود بخشد (<strong>افزایش +۲ تا +۵ سال</strong>).</li>`;
                hasSuggestions = true;
            }

            if (outlook === 'sometimes_negative' || outlook === 'often_negative' || outlook === 'pessimistic_depressed') {
                suggestions += `<li><strong>تقویت روحیه مثبت:</strong> خوش‌بینی و مثبت‌اندیشی می‌تواند به کاهش استرس و بهبود سلامت کلی کمک کند (<strong>افزایش +۱ تا +۴ سال</strong>).</li>`;
                hasSuggestions = true;
            }


            suggestions += "</ul></div>";

            if (hasSuggestions) {
                resultHtml += suggestions;
            } else {
                resultHtml += "<p class='suggestions-list'>با توجه به انتخاب‌های شما، سبک زندگی فعلی‌تان بسیار مطلوب است. به همین روند ادامه دهید!</p>";
            }

            resultHtml += `<p class="disclaimer">باز هم تأکید می‌شود که این فقط یک پیش‌بینی سرگرم‌کننده است و هیچ پایه علمی ندارد.</p>`;
            document.getElementById('result').innerHTML = resultHtml;
        });
    </script>
</body>
</html>
